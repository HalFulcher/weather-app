(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{137:function(e,t,c){},138:function(e,t,c){},139:function(e,t,c){},146:function(e,t,c){},147:function(e,t,c){},148:function(e,t,c){},461:function(e,t,c){"use strict";c.r(t);var a=c(2),s=c.n(a),r=c(18),n=c.n(r),i=(c(137),c(32)),o=(c(138),c(139),c(1)),d=function(e){var t=e.city,c=e.country,a=e.errorMessage;return a?Object(o.jsx)("h1",{children:a}):Object(o.jsx)("h1",{className:"location-details",children:"".concat(t,", ").concat(c)})},u=d;d.defaultProps={errorMessage:""};var j=c(130),l=c(51),m=c.n(l),b=(c(146),function(e){var t=e.date,c=e.description,a=e.icon,s=e.temperature,r=e.onSelect;return Object(o.jsxs)("div",{className:"forecast-summary","data-testid":"forecast-summary",children:[Object(o.jsx)("div",{className:"forecast-summary__date",children:m()(t).format("ddd Do MMM")}),Object(o.jsx)("div",{className:"forecast-summary__icon","data-testid":"forecast-icon",children:Object(o.jsx)(j.WeatherIcon,{name:"owm",iconId:a})}),Object(o.jsxs)("div",{className:"forecast-summary__temperature",children:[s.max,"\xb0C"]}),Object(o.jsx)("div",{className:"forecast-summary__description",children:c}),Object(o.jsx)("div",{className:"forecast-summary__details",children:Object(o.jsx)("button",{type:"button",onClick:function(){return r(t)},children:"More details"})})]})}),f=(c(147),function(e){var t=e.forecasts,c=e.onForecastSelect;return Object(o.jsx)("div",{className:"forecast-summaries",children:t.map((function(e){return Object(o.jsx)(b,{date:e.date,description:e.description,icon:e.icon,onSelect:c,temperature:e.temperature},e.date)}))})}),h=(c(148),function(e){var t=e.forecast,c=t.date,a=t.humidity,s=t.temperature,r=t.wind;return Object(o.jsxs)("div",{className:"forecast-details",children:[Object(o.jsx)("div",{className:"forecast-details__date",children:m()(c).format("ddd Do MMM")}),Object(o.jsx)("div",{className:"forecast-details__humidity",children:"Humidity: ".concat(a,"%")}),Object(o.jsxs)("div",{className:"forecast-details__temperature",children:["Max temp: ".concat(s.max),"\xb0C"]}),Object(o.jsxs)("div",{className:"forecast-details__temperature",children:["Min temp: ".concat(s.min),"\xb0C"]}),Object(o.jsx)("div",{className:"forecast-details__wind__speed",children:"Wind speed: ".concat(r.speed,"km")}),Object(o.jsx)("div",{className:"forecast-details__wind__direction",children:"Wind direction: ".concat(r.direction.toUpperCase())})]})}),p=c(131),O=c.n(p),x=function(e,t,c,a,s){t("");var r="https://mcr-codes-weather-app.herokuapp.com/forecast";return e&&(r+="?city=".concat(e)),O.a.get(r).then((function(e){console.log(e.data),c(e.data.forecasts[0].date),a(e.data.forecasts),s(e.data.location)})).catch((function(e){var c=e.response.status;404===c&&(t("No such city. Try again."),console.error("No such city. Try again.",e)),500===c&&(t("Server error."),console.error("Server error",e))}))},y=(c(166),function(e){var t=e.searchText,c=e.setSearchText,a=e.onSubmit;return Object(o.jsxs)("div",{className:"search-form",children:[Object(o.jsx)("getByLabelText",{htmlFor:"city",children:"UK City: "}),Object(o.jsx)("input",{type:"text",name:"city",id:"city",onChange:function(e){return c(e.target.value)},value:t}),Object(o.jsx)("button",{type:"submit",onClick:a,children:"Search"})]})}),v=c.p+"static/media/blue-sky-clouds-image.ee30d977.jpg",_=c.p+"static/media/clouds-image.bc8b75d8.jpg",g=c.p+"static/media/rain-image.773d97af.jpg",N=c.p+"static/media/sun-image.7acb3f79.jpg",S=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),c=t[0],s=t[1],r=Object(a.useState)({city:"",country:""}),n=Object(i.a)(r,2),d=n[0],j=n[1],l=Object(a.useState)(0),m=Object(i.a)(l,2),b=m[0],p=m[1],O=Object(a.useState)(""),S=Object(i.a)(O,2),M=S[0],k=S[1],w=Object(a.useState)(""),C=Object(i.a)(w,2),T=C[0],F=C[1];Object(a.useEffect)((function(){x(M,F,p,s,j)}),[]);var I,W=c.find((function(e){return e.date===b}));if(W)switch(W.description){case"Clouds":I=_;break;case"Rain":I=g;break;case"Clear":I=N;break;default:I=v}else I=v;return Object(o.jsxs)("div",{className:"weather-app",style:{backgroundImage:"url(".concat(I,")")},children:[Object(o.jsx)(y,{searchText:M,setSearchText:k,onSubmit:function(){x(M,F,p,s,j)}}),Object(o.jsx)(u,{city:d.city,country:d.country,errorMessage:T}),!T&&Object(o.jsx)(o.Fragment,{children:W&&Object(o.jsx)(h,{forecast:W})}),Object(o.jsx)(f,{forecasts:c,onForecastSelect:function(e){return p(e)}})]})};n.a.render(Object(o.jsx)(s.a.StrictMode,{children:Object(o.jsx)(S,{})}),document.getElementById("root"))}},[[461,1,2]]]);
//# sourceMappingURL=main.dcb92b89.chunk.js.map